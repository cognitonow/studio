type Conversation @table(key: "id") {
  id: String!
  providerId: String!
  clientId: String
  name: String!
  avatar: String!
  dataAiHint: String
  lastMessage: String!
  time: String!
  unread: Int!
  messages: [Message]! @relation(through: "Message", from: "conversationId", to: "id")
}

type Message @table(key: "id") {
  id: String!
  conversationId: String!
  sender: String!
  text: String!
  isAi: Boolean
  bookingId: String
}

extend type Mutation {
  addMessage(conversationId: String!, sender: String!, text: String!): Message!
}
